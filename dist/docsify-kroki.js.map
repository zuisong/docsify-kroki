{"version":3,"file":"docsify-kroki.js","sources":["../https:/esm.sh/v135/fflate@0.8.0/es2022/fflate.mjs","../src/zlib.ts","../src/kroki.ts","../src/index.ts"],"sourcesContent":["/* esm.sh - esbuild bundle(fflate@0.8.0) es2022 production */\nvar cn={},Qn=function(n,r,t,e,i){var a=new Worker(cn[r]||(cn[r]=URL.createObjectURL(new Blob([n+';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:\"text/javascript\"}))));return a.onmessage=function(o){var s=o.data,l=s.$e$;if(l){var h=new Error(l[0]);h.code=l[1],h.stack=l[2],i(h,null)}else i(null,s)},a.postMessage(t,e),a},U=Uint8Array,Y=Uint16Array,Zr=Int32Array,wr=new U([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mr=new U([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cr=new U([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),An=function(n,r){for(var t=new Y(31),e=0;e<31;++e)t[e]=r+=1<<n[e-1];for(var i=new Zr(t[30]),e=1;e<30;++e)for(var a=t[e];a<t[e+1];++a)i[a]=a-t[e]<<5|e;return{b:t,r:i}},Mn=An(wr,2),tn=Mn.b,qr=Mn.r;tn[28]=258,qr[258]=28;var Un=An(mr,0),Fn=Un.b,Qr=Un.r,Ir=new Y(32768);for(C=0;C<32768;++C)nr=(C&43690)>>1|(C&21845)<<1,nr=(nr&52428)>>2|(nr&13107)<<2,nr=(nr&61680)>>4|(nr&3855)<<4,Ir[C]=((nr&65280)>>8|(nr&255)<<8)>>1;var nr,C,V=function(n,r,t){for(var e=n.length,i=0,a=new Y(r);i<e;++i)n[i]&&++a[n[i]-1];var o=new Y(r);for(i=1;i<r;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(t){s=new Y(1<<r);var l=15-r;for(i=0;i<e;++i)if(n[i])for(var h=i<<4|n[i],f=r-n[i],u=o[n[i]-1]++<<f,p=u|(1<<f)-1;u<=p;++u)s[Ir[u]>>l]=h}else for(s=new Y(e),i=0;i<e;++i)n[i]&&(s[i]=Ir[o[n[i]-1]++]>>15-n[i]);return s},tr=new U(288);for(C=0;C<144;++C)tr[C]=8;var C;for(C=144;C<256;++C)tr[C]=9;var C;for(C=256;C<280;++C)tr[C]=7;var C;for(C=280;C<288;++C)tr[C]=8;var C,gr=new U(32);for(C=0;C<32;++C)gr[C]=5;var C,Dn=V(tr,9,0),Sn=V(tr,9,1),Tn=V(gr,5,0),Cn=V(gr,5,1),Lr=function(n){for(var r=n[0],t=1;t<n.length;++t)n[t]>r&&(r=n[t]);return r},Q=function(n,r,t){var e=r/8|0;return(n[e]|n[e+1]<<8)>>(r&7)&t},Pr=function(n,r){var t=r/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(r&7)},xr=function(n){return(n+7)/8|0},X=function(n,r,t){(r==null||r<0)&&(r=0),(t==null||t>n.length)&&(t=n.length);var e=new U(t-r);return e.set(n.subarray(r,t)),e},et={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},In=[\"unexpected EOF\",\"invalid block type\",\"invalid length/literal\",\"invalid distance\",\"stream finished\",\"no stream handler\",,\"no callback\",\"invalid UTF-8 data\",\"extra field too long\",\"date not in range 1980-2099\",\"filename too long\",\"stream finishing\",\"invalid zip data\"],v=function(n,r,t){var e=new Error(r||In[n]);if(e.code=n,Error.captureStackTrace&&Error.captureStackTrace(e,v),!t)throw e;return e},Br=function(n,r,t,e){var i=n.length,a=e?e.length:0;if(!i||r.f&&!r.l)return t||new U(0);var o=!t||r.i!=2,s=r.i;t||(t=new U(i*3));var l=function(Dr){var Sr=t.length;if(Dr>Sr){var Tr=new U(Math.max(Sr*2,Dr));Tr.set(t),t=Tr}},h=r.f||0,f=r.p||0,u=r.b||0,p=r.l,F=r.d,m=r.m,z=r.n,c=i*8;do{if(!p){h=Q(n,f,1);var x=Q(n,f+1,3);if(f+=3,x)if(x==1)p=Sn,F=Cn,m=9,z=5;else if(x==2){var I=Q(n,f,31)+257,B=Q(n,f+10,15)+4,S=I+Q(n,f+5,31)+1;f+=14;for(var y=new U(S),g=new U(19),A=0;A<B;++A)g[Cr[A]]=Q(n,f+A*3,7);f+=B*3;for(var $=Lr(g),O=(1<<$)-1,H=V(g,$,1),A=0;A<S;){var Z=H[Q(n,f,O)];f+=Z&15;var M=Z>>4;if(M<16)y[A++]=M;else{var E=0,P=0;for(M==16?(P=3+Q(n,f,3),f+=2,E=y[A-1]):M==17?(P=3+Q(n,f,7),f+=3):M==18&&(P=11+Q(n,f,127),f+=7);P--;)y[A++]=E}}var G=y.subarray(0,I),L=y.subarray(I);m=Lr(G),z=Lr(L),p=V(G,m,1),F=V(L,z,1)}else v(1);else{var M=xr(f)+4,D=n[M-4]|n[M-3]<<8,w=M+D;if(w>i){s&&v(0);break}o&&l(u+D),t.set(n.subarray(M,w),u),r.b=u+=D,r.p=f=w*8,r.f=h;continue}if(f>c){s&&v(0);break}}o&&l(u+131072);for(var J=(1<<m)-1,sr=(1<<z)-1,N=f;;N=f){var E=p[Pr(n,f)&J],K=E>>4;if(f+=E&15,f>c){s&&v(0);break}if(E||v(2),K<256)t[u++]=K;else if(K==256){N=f,p=null;break}else{var rr=K-254;if(K>264){var A=K-257,R=wr[A];rr=Q(n,f,(1<<R)-1)+tn[A],f+=R}var k=F[Pr(n,f)&sr],b=k>>4;k||v(3),f+=k&15;var L=Fn[b];if(b>3){var R=mr[b];L+=Pr(n,f)&(1<<R)-1,f+=R}if(f>c){s&&v(0);break}o&&l(u+131072);var lr=u+rr;if(u<L){var vr=a-L,Yr=Math.min(L,lr);for(vr+u<0&&v(3);u<Yr;++u)t[u]=e[vr+u]}for(;u<lr;u+=4)t[u]=t[u-L],t[u+1]=t[u+1-L],t[u+2]=t[u+2-L],t[u+3]=t[u+3-L];u=lr}}r.l=p,r.p=N,r.b=u,r.f=h,p&&(h=1,r.m=m,r.d=F,r.n=z)}while(!h);return u==t.length?t:X(t,0,u)},_=function(n,r,t){t<<=r&7;var e=r/8|0;n[e]|=t,n[e+1]|=t>>8},cr=function(n,r,t){t<<=r&7;var e=r/8|0;n[e]|=t,n[e+1]|=t>>8,n[e+2]|=t>>16},$r=function(n,r){for(var t=[],e=0;e<n.length;++e)n[e]&&t.push({s:e,f:n[e]});var i=t.length,a=t.slice();if(!i)return{t:ir,l:0};if(i==1){var o=new U(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(I,B){return I.f-B.f}),t.push({s:-1,f:25001});var s=t[0],l=t[1],h=0,f=1,u=2;for(t[0]={s:-1,f:s.f+l.f,l:s,r:l};f!=i-1;)s=t[t[h].f<t[u].f?h++:u++],l=t[h!=f&&t[h].f<t[u].f?h++:u++],t[f++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,e=1;e<i;++e)a[e].s>p&&(p=a[e].s);var F=new Y(p+1),m=Hr(t[f-1],F,0);if(m>r){var e=0,z=0,c=m-r,x=1<<c;for(a.sort(function(B,S){return F[S.s]-F[B.s]||B.f-S.f});e<i;++e){var M=a[e].s;if(F[M]>r)z+=x-(1<<m-F[M]),F[M]=r;else break}for(z>>=c;z>0;){var D=a[e].s;F[D]<r?z-=1<<r-F[D]++-1:++e}for(;e>=0&&z;--e){var w=a[e].s;F[w]==r&&(--F[w],++z)}m=r}return{t:new U(F),l:m}},Hr=function(n,r,t){return n.s==-1?Math.max(Hr(n.l,r,t+1),Hr(n.r,r,t+1)):r[n.s]=t},Vr=function(n){for(var r=n.length;r&&!n[--r];);for(var t=new Y(++r),e=0,i=n[0],a=1,o=function(l){t[e++]=l},s=1;s<=r;++s)if(n[s]==i&&s!=r)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=n[s]}return{c:t.subarray(0,e),n:r}},pr=function(n,r){for(var t=0,e=0;e<r.length;++e)t+=n[e]*r[e];return t},en=function(n,r,t){var e=t.length,i=xr(r+2);n[i]=e&255,n[i+1]=e>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<e;++a)n[i+a+4]=t[a];return(i+4+e)*8},Xr=function(n,r,t,e,i,a,o,s,l,h,f){_(r,f++,t),++i[256];for(var u=$r(i,15),p=u.t,F=u.l,m=$r(a,15),z=m.t,c=m.l,x=Vr(p),M=x.c,D=x.n,w=Vr(z),I=w.c,B=w.n,S=new Y(19),y=0;y<M.length;++y)++S[M[y]&31];for(var y=0;y<I.length;++y)++S[I[y]&31];for(var g=$r(S,7),A=g.t,$=g.l,O=19;O>4&&!A[Cr[O-1]];--O);var H=h+5<<3,Z=pr(i,tr)+pr(a,gr)+o,E=pr(i,p)+pr(a,z)+o+14+3*O+pr(S,A)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&H<=Z&&H<=E)return en(r,f,n.subarray(l,l+h));var P,G,L,J;if(_(r,f,1+(E<Z)),f+=2,E<Z){P=V(p,F,0),G=p,L=V(z,c,0),J=z;var sr=V(A,$,0);_(r,f,D-257),_(r,f+5,B-1),_(r,f+10,O-4),f+=14;for(var y=0;y<O;++y)_(r,f+3*y,A[Cr[y]]);f+=3*O;for(var N=[M,I],K=0;K<2;++K)for(var rr=N[K],y=0;y<rr.length;++y){var R=rr[y]&31;_(r,f,sr[R]),f+=A[R],R>15&&(_(r,f,rr[y]>>5&127),f+=rr[y]>>12)}}else P=Dn,G=tr,L=Tn,J=gr;for(var y=0;y<s;++y){var k=e[y];if(k>255){var R=k>>18&31;cr(r,f,P[R+257]),f+=G[R+257],R>7&&(_(r,f,k>>23&31),f+=wr[R]);var b=k&31;cr(r,f,L[b]),f+=J[b],b>3&&(cr(r,f,k>>5&8191),f+=mr[b])}else cr(r,f,P[k]),f+=G[k]}return cr(r,f,P[256]),f+G[256]},Zn=new Zr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ir=new U(0),Bn=function(n,r,t,e,i,a){var o=a.z||n.length,s=new U(e+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(e,s.length-i),h=a.l,f=(a.r||0)&7;if(r){f&&(l[0]=a.r>>3);for(var u=Zn[r-1],p=u>>13,F=u&8191,m=(1<<t)-1,z=a.p||new Y(32768),c=a.h||new Y(m+1),x=Math.ceil(t/3),M=2*x,D=function(Jr){return(n[Jr]^n[Jr+1]<<x^n[Jr+2]<<M)&m},w=new Zr(25e3),I=new Y(288),B=new Y(32),S=0,y=0,g=a.i||0,A=0,$=a.w||0,O=0;g+2<o;++g){var H=D(g),Z=g&32767,E=c[H];if(z[Z]=E,c[H]=Z,$<=g){var P=o-g;if((S>7e3||A>24576)&&(P>423||!h)){f=Xr(n,l,0,w,I,B,y,A,O,g-O,f),A=S=y=0,O=g;for(var G=0;G<286;++G)I[G]=0;for(var G=0;G<30;++G)B[G]=0}var L=2,J=0,sr=F,N=Z-E&32767;if(P>2&&H==D(g-N))for(var K=Math.min(p,P)-1,rr=Math.min(32767,g),R=Math.min(258,P);N<=rr&&--sr&&Z!=E;){if(n[g+L]==n[g+L-N]){for(var k=0;k<R&&n[g+k]==n[g+k-N];++k);if(k>L){if(L=k,J=N,k>K)break;for(var b=Math.min(N,k-2),lr=0,G=0;G<b;++G){var vr=g-N+G&32767,Yr=z[vr],Dr=vr-Yr&32767;Dr>lr&&(lr=Dr,E=vr)}}}Z=E,E=z[Z],N+=Z-E&32767}if(J){w[A++]=268435456|qr[L]<<18|Qr[J];var Sr=qr[L]&31,Tr=Qr[J]&31;y+=wr[Sr]+mr[Tr],++I[257+Sr],++B[Tr],$=g+L,++S}else w[A++]=n[g],++I[n[g]]}}for(g=Math.max(g,$);g<o;++g)w[A++]=n[g],++I[n[g]];f=Xr(n,l,h,w,I,B,y,A,O,g-O,f),h||(a.r=f&7|l[f/8|0]<<3,f-=7,a.h=c,a.p=z,a.i=g,a.w=$)}else{for(var g=a.w||0;g<o+h;g+=65535){var jr=g+65535;jr>=o&&(l[f/8|0]=h,jr=o),f=en(l,f+1,n.subarray(g,jr))}a.i=o}return X(s,0,e+xr(f)+i)},En=function(){for(var n=new Int32Array(256),r=0;r<256;++r){for(var t=r,e=9;--e;)t=(t&1&&-306674912)^t>>>1;n[r]=t}return n}(),zr=function(){var n=-1;return{p:function(r){for(var t=n,e=0;e<r.length;++e)t=En[t&255^r[e]]^t>>>8;n=t},d:function(){return~n}}},Rr=function(){var n=1,r=0;return{p:function(t){for(var e=n,i=r,a=t.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=e+=t[o];e=(e&65535)+15*(e>>16),i=(i&65535)+15*(i>>16)}n=e,r=i},d:function(){return n%=65521,r%=65521,(n&255)<<24|(n&65280)<<8|(r&255)<<8|r>>8}}},hr=function(n,r,t,e,i){if(!i&&(i={l:1},r.dictionary)){var a=r.dictionary.subarray(-32768),o=new U(a.length+n.length);o.set(a),o.set(n,a.length),n=o,i.w=a.length}return Bn(n,r.level==null?6:r.level,r.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+r.mem,t,e,i)},Er=function(n,r){var t={};for(var e in n)t[e]=n[e];for(var e in r)t[e]=r[e];return t},pn=function(n,r,t){for(var e=n(),i=n.toString(),a=i.slice(i.indexOf(\"[\")+1,i.lastIndexOf(\"]\")).replace(/\\s+/g,\"\").split(\",\"),o=0;o<e.length;++o){var s=e[o],l=a[o];if(typeof s==\"function\"){r+=\";\"+l+\"=\";var h=s.toString();if(s.prototype)if(h.indexOf(\"[native code]\")!=-1){var f=h.indexOf(\" \",8)+1;r+=h.slice(f,h.indexOf(\"(\",f))}else{r+=h;for(var u in s.prototype)r+=\";\"+l+\".prototype.\"+u+\"=\"+s.prototype[u].toString()}else r+=h}else t[l]=s}return r},Or=[],Vn=function(n){var r=[];for(var t in n)n[t].buffer&&r.push((n[t]=new n[t].constructor(n[t])).buffer);return r},Gn=function(n,r,t,e){if(!Or[t]){for(var i=\"\",a={},o=n.length-1,s=0;s<o;++s)i=pn(n[s],i,a);Or[t]={c:pn(n[o],i,a),e:a}}var l=Er({},Or[t].e);return Qn(Or[t].c+\";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=\"+r.toString()+\"}\",t,l,Vn(l),e)},Ar=function(){return[U,Y,Zr,wr,mr,Cr,tn,Fn,Sn,Cn,Ir,In,V,Lr,Q,Pr,xr,X,v,Br,Gr,or,an]},Mr=function(){return[U,Y,Zr,wr,mr,Cr,qr,Qr,Dn,tr,Tn,gr,Ir,Zn,ir,V,_,cr,$r,Hr,Vr,pr,en,Xr,xr,X,Bn,hr,Wr,or]},On=function(){return[on,fn,T,zr,En]},Ln=function(){return[sn,qn]},Pn=function(){return[hn,T,Rr]},$n=function(){return[un]},or=function(n){return postMessage(n,[n.buffer])},an=function(n){return n&&{out:n.size&&new U(n.size),dictionary:n.dictionary}},Ur=function(n,r,t,e,i,a){var o=Gn(t,e,i,function(s,l){o.terminate(),a(s,l)});return o.postMessage([n,r],r.consume?[n.buffer]:[]),function(){o.terminate()}},d=function(n){return n.ondata=function(r,t){return postMessage([r,t],[r.buffer])},function(r){return n.push(r.data[0],r.data[1])}},Fr=function(n,r,t,e,i,a){var o,s=Gn(n,e,i,function(l,h){l?(s.terminate(),r.ondata.call(r,l)):Array.isArray(h)?(h[1]&&s.terminate(),r.ondata.call(r,l,h[0],h[1])):a(h)});s.postMessage(t),r.push=function(l,h){r.ondata||v(5),o&&r.ondata(v(4,0,1),null,!!h),s.postMessage([l,o=h],[l.buffer])},r.terminate=function(){s.terminate()}},W=function(n,r){return n[r]|n[r+1]<<8},q=function(n,r){return(n[r]|n[r+1]<<8|n[r+2]<<16|n[r+3]<<24)>>>0},Kr=function(n,r){return q(n,r)+q(n,r+4)*4294967296},T=function(n,r,t){for(;t;++r)n[r]=t,t>>>=8},on=function(n,r){var t=r.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=r.level<2?4:r.level==9?2:0,n[9]=3,r.mtime!=0&&T(n,4,Math.floor(new Date(r.mtime||Date.now())/1e3)),t){n[3]=8;for(var e=0;e<=t.length;++e)n[e+10]=t.charCodeAt(e)}},sn=function(n){(n[0]!=31||n[1]!=139||n[2]!=8)&&v(6,\"invalid gzip data\");var r=n[3],t=10;r&4&&(t+=(n[10]|n[11]<<8)+2);for(var e=(r>>3&1)+(r>>4&1);e>0;e-=!n[t++]);return t+(r&2)},qn=function(n){var r=n.length;return(n[r-4]|n[r-3]<<8|n[r-2]<<16|n[r-1]<<24)>>>0},fn=function(n){return 10+(n.filename?n.filename.length+1:0)},hn=function(n,r){var t=r.level,e=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=e<<6|(r.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,r.dictionary){var i=Rr();i.p(r.dictionary),T(n,2,i.d())}},un=function(n,r){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&v(6,\"invalid zlib data\"),(n[1]>>5&1)==+!r&&v(6,\"invalid zlib data: \"+(n[1]&32?\"need\":\"unexpected\")+\" dictionary\"),(n[1]>>3&4)+2};function ur(n,r){return typeof n==\"function\"&&(r=n,n={}),this.ondata=r,n}var er=function(){function n(r,t){if(typeof r==\"function\"&&(t=r,r={}),this.ondata=t,this.o=r||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new U(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(r,t){this.ondata(hr(r,this.o,0,0,this.s),t)},n.prototype.push=function(r,t){this.ondata||v(5),this.s.l&&v(4);var e=r.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new U(e&-32768);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(r.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(r.subarray(a),32768),this.s.z=r.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(r,this.s.z),this.s.z+=r.length;this.s.l=t&1,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var Xn=function(){function n(r,t){Fr([Mr,function(){return[d,er]}],this,ur.call(this,r,t),function(e){var i=new er(e.data);onmessage=d(i)},6)}return n}();function dn(n,r,t){return t||(t=r,r={}),typeof t!=\"function\"&&v(7),Ur(n,r,[Mr],function(e){return or(Wr(e.data[0],e.data[1]))},0,t)}function Wr(n,r){return hr(n,r||{},0,0)}var j=function(){function n(r,t){typeof r==\"function\"&&(t=r,r={}),this.ondata=t;var e=r&&r.dictionary&&r.dictionary.subarray(-32768);this.s={i:0,b:e?e.length:0},this.o=new U(32768),this.p=new U(0),e&&this.o.set(e)}return n.prototype.e=function(r){if(this.ondata||v(5),this.d&&v(4),!this.p.length)this.p=r;else if(r.length){var t=new U(this.p.length+r.length);t.set(this.p),t.set(r,this.p.length),this.p=t}},n.prototype.c=function(r){this.s.i=+(this.d=r||!1);var t=this.s.b,e=Br(this.p,this.s,this.o);this.ondata(X(e,t,this.s.b),this.d),this.o=X(e,this.s.b-32768),this.s.b=this.o.length,this.p=X(this.p,this.s.p/8|0),this.s.p&=7},n.prototype.push=function(r,t){this.e(r),this.c(t)},n}();var Hn=function(){function n(r,t){Fr([Ar,function(){return[d,j]}],this,ur.call(this,r,t),function(e){var i=new j(e.data);onmessage=d(i)},7)}return n}();function kn(n,r,t){return t||(t=r,r={}),typeof t!=\"function\"&&v(7),Ur(n,r,[Ar],function(e){return or(Gr(e.data[0],an(e.data[1])))},1,t)}function Gr(n,r){return Br(n,{i:2},r&&r.out,r&&r.dictionary)}var gn=function(){function n(r,t){this.c=zr(),this.l=0,this.v=1,er.call(this,r,t)}return n.prototype.push=function(r,t){this.c.p(r),this.l+=r.length,er.prototype.push.call(this,r,t)},n.prototype.p=function(r,t){var e=hr(r,this.o,this.v&&fn(this.o),t&&8,this.s);this.v&&(on(e,this.o),this.v=0),t&&(T(e,e.length-8,this.c.d()),T(e,e.length-4,this.l)),this.ondata(e,t)},n}();var it=function(){function n(r,t){Fr([Mr,On,function(){return[d,er,gn]}],this,ur.call(this,r,t),function(e){var i=new gn(e.data);onmessage=d(i)},8)}return n}();function at(n,r,t){return t||(t=r,r={}),typeof t!=\"function\"&&v(7),Ur(n,r,[Mr,On,function(){return[yn]}],function(e){return or(yn(e.data[0],e.data[1]))},2,t)}function yn(n,r){r||(r={});var t=zr(),e=n.length;t.p(n);var i=hr(n,r,fn(r),8),a=i.length;return on(i,r),T(i,a-8,t.d()),T(i,a-4,e),i}var dr=function(){function n(r,t){this.v=1,this.r=0,j.call(this,r,t)}return n.prototype.push=function(r,t){if(j.prototype.e.call(this,r),this.r+=r.length,this.v){var e=this.p.subarray(this.v-1),i=e.length>3?sn(e):4;if(i>e.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-e.length);this.p=e.subarray(i),this.v=0}j.prototype.c.call(this,t),this.s.f&&!this.s.l&&(this.v=xr(this.s.p)+9,this.s={i:0},this.o=new U(0),this.p.length&&this.push(new U(0),t))},n}();var bn=function(){function n(r,t){var e=this;Fr([Ar,Ln,function(){return[d,j,dr]}],this,ur.call(this,r,t),function(i){var a=new dr(i.data);a.onmember=function(o){return postMessage(o)},onmessage=d(a)},9,function(i){return e.onmember&&e.onmember(i)})}return n}();function _n(n,r,t){return t||(t=r,r={}),typeof t!=\"function\"&&v(7),Ur(n,r,[Ar,Ln,function(){return[br]}],function(e){return or(br(e.data[0],e.data[1]))},3,t)}function br(n,r){var t=sn(n);return t+8>n.length&&v(6,\"invalid gzip data\"),Br(n.subarray(t,-8),{i:2},r&&r.out||new U(qn(n)),r&&r.dictionary)}var wn=function(){function n(r,t){this.c=Rr(),this.v=1,er.call(this,r,t)}return n.prototype.push=function(r,t){this.c.p(r),er.prototype.push.call(this,r,t)},n.prototype.p=function(r,t){var e=hr(r,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&(hn(e,this.o),this.v=0),t&&T(e,e.length-4,this.c.d()),this.ondata(e,t)},n}();var ot=function(){function n(r,t){Fr([Mr,Pn,function(){return[d,er,wn]}],this,ur.call(this,r,t),function(e){var i=new wn(e.data);onmessage=d(i)},10)}return n}();function st(n,r,t){return t||(t=r,r={}),typeof t!=\"function\"&&v(7),Ur(n,r,[Mr,Pn,function(){return[mn]}],function(e){return or(mn(e.data[0],e.data[1]))},4,t)}function mn(n,r){r||(r={});var t=Rr();t.p(n);var e=hr(n,r,r.dictionary?6:2,4);return hn(e,r),T(e,e.length-4,t.d()),e}var _r=function(){function n(r,t){j.call(this,r,t),this.v=r&&r.dictionary?2:1}return n.prototype.push=function(r,t){if(j.prototype.e.call(this,r),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray(un(this.p,this.v-1)),this.v=0}t&&(this.p.length<4&&v(6,\"invalid zlib data\"),this.p=this.p.subarray(0,-4)),j.prototype.c.call(this,t)},n}();var rt=function(){function n(r,t){Fr([Ar,$n,function(){return[d,j,_r]}],this,ur.call(this,r,t),function(e){var i=new _r(e.data);onmessage=d(i)},11)}return n}();function nt(n,r,t){return t||(t=r,r={}),typeof t!=\"function\"&&v(7),Ur(n,r,[Ar,$n,function(){return[rn]}],function(e){return or(rn(e.data[0],an(e.data[1])))},5,t)}function rn(n,r){return Br(n.subarray(un(n,r&&r.dictionary),-4),{i:2},r&&r.out,r&&r.dictionary)}var xn=function(){function n(r,t){this.G=dr,this.I=j,this.Z=_r,this.o=ur.call(this,r,t)||{}}return n.prototype.push=function(r,t){if(this.ondata||v(5),this.s)this.s.push(r,t);else{if(this.p&&this.p.length){var e=new U(this.p.length+r.length);e.set(this.p),e.set(r,this.p.length)}else this.p=r;if(this.p.length>2){var i=this,a=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o,a):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o,a):new this.Z(this.o,a),this.s.push(this.p,t),this.p=null}}},n}();var ft=function(){function n(r,t){this.G=bn,this.I=Hn,this.Z=rt,xn.call(this,r,t)}return n.prototype.push=function(r,t){xn.prototype.push.call(this,r,t)},n}();function ht(n,r,t){return t||(t=r,r={}),typeof t!=\"function\"&&v(7),n[0]==31&&n[1]==139&&n[2]==8?_n(n,r,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?kn(n,r,t):nt(n,r,t)}function ut(n,r){return n[0]==31&&n[1]==139&&n[2]==8?br(n,r):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?Gr(n,r):rn(n,r)}var ln=function(n,r,t,e){for(var i in n){var a=n[i],o=r+i,s=e;Array.isArray(a)&&(s=Er(e,a[1]),a=a[0]),a instanceof U?t[o]=[a,s]:(t[o+=\"/\"]=[new U(0),s],ln(a,o,t,e))}},zn=typeof TextEncoder<\"u\"&&new TextEncoder,nn=typeof TextDecoder<\"u\"&&new TextDecoder,Nn=0;try{nn.decode(ir,{stream:!0}),Nn=1}catch{}var Rn=function(n){for(var r=\"\",t=0;;){var e=n[t++],i=(e>127)+(e>223)+(e>239);if(t+i>n.length)return{s:r,r:X(n,t-1)};i?i==3?(e=((e&15)<<18|(n[t++]&63)<<12|(n[t++]&63)<<6|n[t++]&63)-65536,r+=String.fromCharCode(55296|e>>10,56320|e&1023)):i&1?r+=String.fromCharCode((e&31)<<6|n[t++]&63):r+=String.fromCharCode((e&15)<<12|(n[t++]&63)<<6|n[t++]&63):r+=String.fromCharCode(e)}},lt=function(){function n(r){this.ondata=r,Nn?this.t=new TextDecoder:this.p=ir}return n.prototype.push=function(r,t){if(this.ondata||v(5),t=!!t,this.t){this.ondata(this.t.decode(r,{stream:!0}),t),t&&(this.t.decode().length&&v(8),this.t=null);return}this.p||v(4);var e=new U(this.p.length+r.length);e.set(this.p),e.set(r,this.p.length);var i=Rn(e),a=i.s,o=i.r;t?(o.length&&v(8),this.p=null):this.p=o,this.ondata(a,t)},n}();var vt=function(){function n(r){this.ondata=r}return n.prototype.push=function(r,t){this.ondata||v(5),this.d&&v(4),this.ondata(fr(r),this.d=t||!1)},n}();function fr(n,r){if(r){for(var t=new U(n.length),e=0;e<n.length;++e)t[e]=n.charCodeAt(e);return t}if(zn)return zn.encode(n);for(var i=n.length,a=new U(n.length+(n.length>>1)),o=0,s=function(f){a[o++]=f},e=0;e<i;++e){if(o+5>a.length){var l=new U(o+8+(i-e<<1));l.set(a),a=l}var h=n.charCodeAt(e);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|h&63)):h>55295&&h<57344?(h=65536+(h&1047552)|n.charCodeAt(++e)&1023,s(240|h>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|h&63)):(s(224|h>>12),s(128|h>>6&63),s(128|h&63))}return X(a,0,o)}function Wn(n,r){if(r){for(var t=\"\",e=0;e<n.length;e+=16384)t+=String.fromCharCode.apply(null,n.subarray(e,e+16384));return t}else{if(nn)return nn.decode(n);var i=Rn(n),a=i.s,t=i.r;return t.length&&v(8),a}}var Yn=function(n){return n==1?3:n<6?2:n==9?1:0},jn=function(n,r){return r+30+W(n,r+26)+W(n,r+28)},Jn=function(n,r,t){var e=W(n,r+28),i=Wn(n.subarray(r+46,r+46+e),!(W(n,r+8)&2048)),a=r+46+e,o=q(n,r+20),s=t&&o==4294967295?Kn(n,a):[o,q(n,r+24),q(n,r+42)],l=s[0],h=s[1],f=s[2];return[W(n,r+10),l,h,i,a+W(n,r+30)+W(n,r+32),f]},Kn=function(n,r){for(;W(n,r)!=1;r+=4+W(n,r+2));return[Kr(n,r+12),Kr(n,r+4),Kr(n,r+20)]},ar=function(n){var r=0;if(n)for(var t in n){var e=n[t].length;e>65535&&v(9),r+=e+4}return r},yr=function(n,r,t,e,i,a,o,s){var l=e.length,h=t.extra,f=s&&s.length,u=ar(h);T(n,r,o!=null?33639248:67324752),r+=4,o!=null&&(n[r++]=20,n[r++]=t.os),n[r]=20,r+=2,n[r++]=t.flag<<1|(a<0&&8),n[r++]=i&&8,n[r++]=t.compression&255,n[r++]=t.compression>>8;var p=new Date(t.mtime==null?Date.now():t.mtime),F=p.getFullYear()-1980;if((F<0||F>119)&&v(10),T(n,r,F<<25|p.getMonth()+1<<21|p.getDate()<<16|p.getHours()<<11|p.getMinutes()<<5|p.getSeconds()>>1),r+=4,a!=-1&&(T(n,r,t.crc),T(n,r+4,a<0?-a-2:a),T(n,r+8,t.size)),T(n,r+12,l),T(n,r+14,u),r+=16,o!=null&&(T(n,r,f),T(n,r+6,t.attrs),T(n,r+10,o),r+=14),n.set(e,r),r+=l,u)for(var m in h){var z=h[m],c=z.length;T(n,r,+m),T(n,r+2,c),n.set(z,r+4),r+=4+c}return f&&(n.set(s,r),r+=f),r},vn=function(n,r,t,e,i){T(n,r,101010256),T(n,r+8,t),T(n,r+10,t),T(n,r+12,e),T(n,r+16,i)},kr=function(){function n(r){this.filename=r,this.c=zr(),this.size=0,this.compression=0}return n.prototype.process=function(r,t){this.ondata(null,r,t)},n.prototype.push=function(r,t){this.ondata||v(5),this.c.p(r),this.size+=r.length,t&&(this.crc=this.c.d()),this.process(r,t||!1)},n}();var ct=function(){function n(r,t){var e=this;t||(t={}),kr.call(this,r),this.d=new er(t,function(i,a){e.ondata(null,i,a)}),this.compression=8,this.flag=Yn(t.level)}return n.prototype.process=function(r,t){try{this.d.push(r,t)}catch(e){this.ondata(e,null,t)}},n.prototype.push=function(r,t){kr.prototype.push.call(this,r,t)},n}();var pt=function(){function n(r,t){var e=this;t||(t={}),kr.call(this,r),this.d=new Xn(t,function(i,a,o){e.ondata(i,a,o)}),this.compression=8,this.flag=Yn(t.level),this.terminate=this.d.terminate}return n.prototype.process=function(r,t){this.d.push(r,t)},n.prototype.push=function(r,t){kr.prototype.push.call(this,r,t)},n}();var gt=function(){function n(r){this.ondata=r,this.u=[],this.d=1}return n.prototype.add=function(r){var t=this;if(this.ondata||v(5),this.d&2)this.ondata(v(4+(this.d&1)*8,0,1),null,!1);else{var e=fr(r.filename),i=e.length,a=r.comment,o=a&&fr(a),s=i!=r.filename.length||o&&a.length!=o.length,l=i+ar(r.extra)+30;i>65535&&this.ondata(v(11,0,1),null,!1);var h=new U(l);yr(h,0,r,e,s,-1);var f=[h],u=function(){for(var c=0,x=f;c<x.length;c++){var M=x[c];t.ondata(null,M,!1)}f=[]},p=this.d;this.d=0;var F=this.u.length,m=Er(r,{f:e,u:s,o,t:function(){r.terminate&&r.terminate()},r:function(){if(u(),p){var c=t.u[F+1];c?c.r():t.d=1}p=1}}),z=0;r.ondata=function(c,x,M){if(c)t.ondata(c,x,M),t.terminate();else if(z+=x.length,f.push(x),M){var D=new U(16);T(D,0,134695760),T(D,4,r.crc),T(D,8,z),T(D,12,r.size),f.push(D),m.c=z,m.b=l+z+16,m.crc=r.crc,m.size=r.size,p&&m.r(),p=1}else p&&u()},this.u.push(m)}},n.prototype.end=function(){var r=this;if(this.d&2){this.ondata(v(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){r.d&1&&(r.u.splice(-1,1),r.e())},t:function(){}}),this.d=3},n.prototype.e=function(){for(var r=0,t=0,e=0,i=0,a=this.u;i<a.length;i++){var o=a[i];e+=46+o.f.length+ar(o.extra)+(o.o?o.o.length:0)}for(var s=new U(e+22),l=0,h=this.u;l<h.length;l++){var o=h[l];yr(s,r,o,o.f,o.u,-o.c-2,t,o.o),r+=46+o.f.length+ar(o.extra)+(o.o?o.o.length:0),t+=o.b}vn(s,r,this.u.length,e,t),this.ondata(null,s,!0),this.d=2},n.prototype.terminate=function(){for(var r=0,t=this.u;r<t.length;r++){var e=t[r];e.t()}this.d=2},n}();function yt(n,r,t){t||(t=r,r={}),typeof t!=\"function\"&&v(7);var e={};ln(n,\"\",e,r);var i=Object.keys(e),a=i.length,o=0,s=0,l=a,h=new Array(a),f=[],u=function(){for(var c=0;c<f.length;++c)f[c]()},p=function(c,x){Nr(function(){t(c,x)})};Nr(function(){p=t});var F=function(){var c=new U(s+22),x=o,M=s-o;s=0;for(var D=0;D<l;++D){var w=h[D];try{var I=w.c.length;yr(c,s,w,w.f,w.u,I);var B=30+w.f.length+ar(w.extra),S=s+B;c.set(w.c,S),yr(c,o,w,w.f,w.u,I,s,w.m),o+=16+B+(w.m?w.m.length:0),s=S+I}catch(y){return p(y,null)}}vn(c,o,h.length,M,x),p(null,c)};a||F();for(var m=function(c){var x=i[c],M=e[x],D=M[0],w=M[1],I=zr(),B=D.length;I.p(D);var S=fr(x),y=S.length,g=w.comment,A=g&&fr(g),$=A&&A.length,O=ar(w.extra),H=w.level==0?0:8,Z=function(E,P){if(E)u(),p(E,null);else{var G=P.length;h[c]=Er(w,{size:B,crc:I.d(),c:P,f:S,m:A,u:y!=x.length||A&&g.length!=$,compression:H}),o+=30+y+O+G,s+=76+2*(y+O)+($||0)+G,--a||F()}};if(y>65535&&Z(v(11,0,1),null),!H)Z(null,D);else if(B<16e4)try{Z(null,Wr(D,w))}catch(E){Z(E,null)}else f.push(dn(D,w,Z))},z=0;z<l;++z)m(z);return u}function wt(n,r){r||(r={});var t={},e=[];ln(n,\"\",t,r);var i=0,a=0;for(var o in t){var s=t[o],l=s[0],h=s[1],f=h.level==0?0:8,u=fr(o),p=u.length,F=h.comment,m=F&&fr(F),z=m&&m.length,c=ar(h.extra);p>65535&&v(11);var x=f?Wr(l,h):l,M=x.length,D=zr();D.p(l),e.push(Er(h,{size:l.length,crc:D.d(),c:x,f:u,m,u:p!=o.length||m&&F.length!=z,o:i,compression:f})),i+=30+p+c+M,a+=76+2*(p+c)+(z||0)+M}for(var w=new U(a+22),I=i,B=a-i,S=0;S<e.length;++S){var u=e[S];yr(w,u.o,u,u.f,u.u,u.c.length);var y=30+u.f.length+ar(u.extra);w.set(u.c,u.o+y),yr(w,i,u,u.f,u.u,u.c.length,u.o,u.m),i+=16+y+(u.m?u.m.length:0)}return vn(w,i,e.length,B,I),w}var tt=function(){function n(){}return n.prototype.push=function(r,t){this.ondata(null,r,t)},n.compression=0,n}();var mt=function(){function n(){var r=this;this.i=new j(function(t,e){r.ondata(null,t,e)})}return n.prototype.push=function(r,t){try{this.i.push(r,t)}catch(e){this.ondata(e,null,t)}},n.compression=8,n}();var xt=function(){function n(r,t){var e=this;t<32e4?this.i=new j(function(i,a){e.ondata(null,i,a)}):(this.i=new Hn(function(i,a,o){e.ondata(i,a,o)}),this.terminate=this.i.terminate)}return n.prototype.push=function(r,t){this.i.terminate&&(r=X(r,0)),this.i.push(r,t)},n.compression=8,n}();var zt=function(){function n(r){this.onfile=r,this.k=[],this.o={0:tt},this.p=ir}return n.prototype.push=function(r,t){var e=this;if(this.onfile||v(5),this.p||v(4),this.c>0){var i=Math.min(this.c,r.length),a=r.subarray(0,i);if(this.c-=i,this.d?this.d.push(a,!this.c):this.k[0].push(a),r=r.subarray(i),r.length)return this.push(r,t)}else{var o=0,s=0,l=void 0,h=void 0;this.p.length?r.length?(h=new U(this.p.length+r.length),h.set(this.p),h.set(r,this.p.length)):h=this.p:h=r;for(var f=h.length,u=this.c,p=u&&this.d,F=function(){var x,M=q(h,s);if(M==67324752){o=1,l=s,m.d=null,m.c=0;var D=W(h,s+6),w=W(h,s+8),I=D&2048,B=D&8,S=W(h,s+26),y=W(h,s+28);if(f>s+30+S+y){var g=[];m.k.unshift(g),o=2;var A=q(h,s+18),$=q(h,s+22),O=Wn(h.subarray(s+30,s+=30+S),!I);A==4294967295?(x=B?[-2]:Kn(h,s),A=x[0],$=x[1]):B&&(A=-1),s+=y,m.c=A;var H,Z={name:O,compression:w,start:function(){if(Z.ondata||v(5),!A)Z.ondata(null,ir,!0);else{var E=e.o[w];E||Z.ondata(v(14,\"unknown compression type \"+w,1),null,!1),H=A<0?new E(O):new E(O,A,$),H.ondata=function(J,sr,N){Z.ondata(J,sr,N)};for(var P=0,G=g;P<G.length;P++){var L=G[P];H.push(L,!1)}e.k[0]==g&&e.c?e.d=H:H.push(ir,!0)}},terminate:function(){H&&H.terminate&&H.terminate()}};A>=0&&(Z.size=A,Z.originalSize=$),m.onfile(Z)}return\"break\"}else if(u){if(M==134695760)return l=s+=12+(u==-2&&8),o=3,m.c=0,\"break\";if(M==33639248)return l=s-=4,o=3,m.c=0,\"break\"}},m=this;s<f-4;++s){var z=F();if(z===\"break\")break}if(this.p=ir,u<0){var c=o?h.subarray(0,l-12-(u==-2&&8)-(q(h,l-16)==134695760&&4)):h.subarray(0,s);p?p.push(c,!!o):this.k[+(o==2)].push(c)}if(o&2)return this.push(h.subarray(s),t);this.p=h.subarray(s)}t&&(this.c&&v(13),this.p=null)},n.prototype.register=function(r){this.o[r.compression]=r},n}();var Nr=typeof queueMicrotask==\"function\"?queueMicrotask:typeof setTimeout==\"function\"?setTimeout:function(n){n()};function At(n,r,t){t||(t=r,r={}),typeof t!=\"function\"&&v(7);var e=[],i=function(){for(var c=0;c<e.length;++c)e[c]()},a={},o=function(c,x){Nr(function(){t(c,x)})};Nr(function(){o=t});for(var s=n.length-22;q(n,s)!=101010256;--s)if(!s||n.length-s>65558)return o(v(13,0,1),null),i;var l=W(n,s+8);if(l){var h=l,f=q(n,s+16),u=f==4294967295||h==65535;if(u){var p=q(n,s-12);u=q(n,p)==101075792,u&&(h=l=q(n,p+32),f=q(n,p+48))}for(var F=r&&r.filter,m=function(c){var x=Jn(n,f,u),M=x[0],D=x[1],w=x[2],I=x[3],B=x[4],S=x[5],y=jn(n,S);f=B;var g=function($,O){$?(i(),o($,null)):(O&&(a[I]=O),--l||o(null,a))};if(!F||F({name:I,size:D,originalSize:w,compression:M}))if(!M)g(null,X(n,y,y+D));else if(M==8){var A=n.subarray(y,y+D);if(D<32e4)try{g(null,Gr(A,{out:new U(w)}))}catch($){g($,null)}else e.push(kn(A,{size:w},g))}else g(v(14,\"unknown compression type \"+M,1),null);else g(null,null)},z=0;z<h;++z)m(z)}else o(null,{});return i}function Mt(n,r){for(var t={},e=n.length-22;q(n,e)!=101010256;--e)(!e||n.length-e>65558)&&v(13);var i=W(n,e+8);if(!i)return{};var a=q(n,e+16),o=a==4294967295||i==65535;if(o){var s=q(n,e-12);o=q(n,s)==101075792,o&&(i=q(n,s+32),a=q(n,s+48))}for(var l=r&&r.filter,h=0;h<i;++h){var f=Jn(n,a,o),u=f[0],p=f[1],F=f[2],m=f[3],z=f[4],c=f[5],x=jn(n,c);a=z,(!l||l({name:m,size:p,originalSize:F,compression:u}))&&(u?u==8?t[m]=Gr(n.subarray(x,x+p),{out:new U(F)}):v(14,\"unknown compression type \"+u):t[m]=X(n,x,x+p))}return t}export{it as AsyncCompress,ft as AsyncDecompress,Xn as AsyncDeflate,bn as AsyncGunzip,it as AsyncGzip,Hn as AsyncInflate,xt as AsyncUnzipInflate,rt as AsyncUnzlib,pt as AsyncZipDeflate,ot as AsyncZlib,gn as Compress,lt as DecodeUTF8,xn as Decompress,er as Deflate,vt as EncodeUTF8,et as FlateErrorCode,dr as Gunzip,gn as Gzip,j as Inflate,zt as Unzip,mt as UnzipInflate,tt as UnzipPassThrough,_r as Unzlib,gt as Zip,ct as ZipDeflate,kr as ZipPassThrough,wn as Zlib,at as compress,yn as compressSync,ht as decompress,ut as decompressSync,dn as deflate,Wr as deflateSync,_n as gunzip,br as gunzipSync,at as gzip,yn as gzipSync,kn as inflate,Gr as inflateSync,Wn as strFromU8,fr as strToU8,At as unzip,Mt as unzipSync,nt as unzlib,rn as unzlibSync,yt as zip,wt as zipSync,st as zlib,mn as zlibSync};\n//# sourceMappingURL=fflate.mjs.map","import { zlibSync } from \"esm.sh/fflate@0.8.0?target=es2022\";\n\nfunction textEncode(str: string) {\n  return new TextEncoder().encode(str);\n}\n\nfunction strFromU8(dat: Uint8Array): string {\n  const s = 2 ** 14;\n  const chunks = [];\n  for (let i = 0; i < dat.length; i += s) {\n    chunks.push(String.fromCharCode(...dat.subarray(i, i + s)));\n  }\n  return chunks.join(\"\");\n}\n\nasync function zlib_fflate(data: Uint8Array): Promise<Uint8Array> {\n  return await zlibSync(data, { level: 9 });\n}\n\nexport async function zlib(str: string): Promise<string> {\n  const data = textEncode(str);\n  // const res = typeof CompressionStream !== typeof undefined\n  //   ? zlib_CompressStream(data)\n  //   : zlib_fflate(data);\n  const res = zlib_fflate(data);\n  return strFromU8(await res);\n}\n\n// async function zlib_CompressStream(data: Uint8Array): Promise<Uint8Array> {\n//   const compressionStream = new CompressionStream(\"deflate\");\n\n//   // 创建一个Readable Stream\n//   const stream = new ReadableStream<Uint8Array>({\n//     start(controller) {\n//       controller.enqueue(data);\n//       controller.close();\n//     },\n//   }).pipeThrough<Uint8Array>(compressionStream);\n\n//   const chunks = await readData(stream);\n\n//   return mergeUint8Arrays(chunks);\n// }\n\n// function mergeUint8Arrays(arrays: Uint8Array[]): Uint8Array {\n//   const totalSize = arrays.map((it) => it.length).reduce((a, b) => a + b, 0);\n\n//   const merged = new Uint8Array(totalSize);\n//   let offset = 0;\n//   for (const array of arrays) {\n//     merged.set(array, offset);\n//     offset += array.length;\n//   }\n\n//   return merged;\n// }\n\n// async function readData(stream: ReadableStream<Uint8Array>) {\n//   const reader = stream.getReader();\n//   const chunks = [];\n//   while (true) {\n//     const { done, value } = await reader.read();\n//     if (value) {\n//       chunks.push(value);\n//     }\n//     if (done) {\n//       return chunks;\n//     }\n//   }\n// }\n","import type { DocsifyKrokiOption } from \"./types/docsify-kroki.ts\";\nimport type { DocsifyPlugin } from \"./types/docsify.ts\";\nimport { zlib } from \"./zlib.ts\";\n\nconst urlSafeBase64Encode = (str: string) => btoa(encodeURI(str));\n\nconst contentType = \"image/svg+xml\";\n\nasync function plantWithPost(\n  content: string,\n  type: string,\n  serverPath: string,\n): Promise<string> {\n  const krokiServerRenderUrl = `${serverPath + type}/svg/`;\n  const resp = await fetch(krokiServerRenderUrl, {\n    method: \"POST\",\n    body: content,\n  });\n  const svg = await resp.text();\n  return `data:${contentType};base64,${urlSafeBase64Encode(svg)}`;\n}\n\nexport async function plant(\n  content: string,\n  type: string,\n  serverPath: string,\n): Promise<string> {\n  const urlPrefix = `${serverPath + type}/svg/`;\n  const compressed: string = await zlib(content);\n  const result: string = btoa(compressed)\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\");\n  const svgUrl: string = urlPrefix + result;\n  const objectData = svgUrl.length < 4000\n    ? svgUrl\n    : await plantWithPost(content, type, serverPath);\n  return `<object type=\"${contentType}\" style=\"max-width: 100%;\" data=\"${objectData}\" />`;\n}\n\nexport async function replace(\n  content: string,\n  config: DocsifyKrokiOption,\n): Promise<string> {\n  const spanElement: HTMLSpanElement = create(\"div\", content);\n  const fetaures: Promise<void>[] = [];\n\n  for (const LANG of config.langs) {\n    const codeElements = Array.from(\n      spanElement.querySelectorAll<HTMLPreElement>(`pre[data-lang=\"${LANG}\"]`),\n    );\n\n    for (const element of codeElements) {\n      // biome-ignore lint/style/noNonNullAssertion: <explanation>\n      const promise = plant(element.textContent!, LANG, config.serverPath).then(\n        (graphStr) => {\n          const planted: HTMLParagraphElement = create(\"p\", graphStr);\n          planted.dataset.lang = LANG;\n          planted.style.maxWidth = \"inherit\";\n          element.parentNode?.replaceChild(planted, element);\n        },\n      );\n      fetaures.push(promise);\n    }\n\n    const imgElements = Array.from(\n      spanElement.querySelectorAll<HTMLImageElement>(\n        `img[alt=\"kroki-${LANG}\"]`,\n      ),\n    );\n\n    for (const element of imgElements) {\n      const img = element as HTMLImageElement;\n      const parent = element.parentNode;\n\n      const srcUrl = img.getAttribute(\"src\");\n      if (!srcUrl) {\n        continue;\n      }\n      const promise = fetch(srcUrl)\n        .then((it) => it.text())\n        .then((code) => plant(code, LANG, config.serverPath))\n        .then((graphStr) => {\n          const planted: HTMLParagraphElement = create(\"p\", graphStr);\n          planted.dataset.lang = LANG;\n          planted.style.maxWidth = \"inherit\";\n          parent?.replaceChild(planted, element);\n        });\n      fetaures.push(promise);\n    }\n  }\n\n  for (const f of fetaures) {\n    await f.catch((e) => console.error(e));\n  }\n\n  return spanElement.innerHTML;\n}\n\nfunction create<K extends keyof HTMLElementTagNameMap>(\n  tagName: K,\n  tpl: string,\n): HTMLElementTagNameMap[K] {\n  const node = document.createElement(tagName);\n  node.innerHTML = tpl;\n  return node;\n}\n\nexport const defaultConfig: DocsifyKrokiOption = {\n  langs: [\n    \"actdiag\",\n    \"blockdiag\",\n    \"bpmn\",\n    \"bytefield\",\n    \"c4plantuml\",\n    \"d2\",\n    \"dbml\",\n    \"ditaa\",\n    \"erd\",\n    \"excalidraw\",\n    \"graphviz\",\n    \"mermaid\",\n    \"nomnoml\",\n    \"nwdiag\",\n    \"packetdiag\",\n    \"pikchr\",\n    \"plantuml\",\n    \"rackdiag\",\n    \"seqdiag\",\n    \"structurizr\",\n    \"svgbob\",\n    \"symbolator\",\n    \"tikz\",\n    \"vega\",\n    \"vegalite\",\n    \"wavedrom\",\n    \"wireviz\",\n  ],\n  serverPath: \"//kroki.io/\",\n};\n\nexport const docsifyKrokiPlugin: DocsifyPlugin = (hook, vm) => {\n  hook.afterEach((content: string, next: (html: string) => void) => {\n    replace(content, {\n      ...defaultConfig,\n      ...(vm?.config?.kroki || {}),\n    }).then(next);\n  });\n};\n","import { docsifyKrokiPlugin } from \"./kroki.ts\";\nwindow.$docsify = window.$docsify || {};\nwindow.$docsify.plugins = (window.$docsify.plugins || []).concat(\n  docsifyKrokiPlugin,\n);\n"],"names":["U","Uint8Array","Y","Uint16Array","Zr","Int32Array","wr","mr","Cr","An","n","r","t","e","i","a","b","Mn","tn","qr","Qr","Ir","C","nr","V","length","s","o","l","h","f","u","p","tr","gr","Dn","Tn","Lr","xr","_","cr","$r","push","slice","ir","sort","I","B","F","m","Hr","z","c","x","S","M","D","w","Math","max","Vr","subarray","pr","en","Xr","y","g","A","$","O","P","G","L","J","H","Z","E","sr","N","K","rr","R","k","Zn","Bn","ceil","Jr","min","lr","vr","Dr","Sr","Tr","jr","set","X","Rr","d","hr","dictionary","level","mem","log","T","hn","TextEncoder","nn","TextDecoder","decode","stream","async","zlib_fflate","data","zlibSync","zlib","str","encode","textEncode","res","dat","chunks","String","fromCharCode","join","strFromU8","urlSafeBase64Encode","btoa","encodeURI","contentType","plant","content","type","serverPath","urlPrefix","concat","compressed","svgUrl","replace","objectData","krokiServerRenderUrl","resp","fetch","method","body","svg","text","plantWithPost","create","tagName","tpl","node","document","createElement","innerHTML","defaultConfig","langs","window","$docsify","plugins","hook","vm","afterEach","next","config","spanElement","fetaures","LANG","codeElements","Array","from","querySelectorAll","element","promise","textContent","then","graphStr","planted","dataset","lang","style","maxWidth","parentNode","replaceChild","imgElements","img","parent","srcUrl","getAttribute","it","code","catch","console","error","kroki"],"mappings":"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"}