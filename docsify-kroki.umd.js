(function(i){typeof define=="function"&&define.amd?define(i):i()})(function(){var p;"use strict";async function i(o,e,t){const a=`${(t==null?void 0:t.serverPath)+e}/svg/`;return await(await fetch(a,{method:"post",body:o})).text()}async function f(o,e,t){return i(o,e,t)}async function m(o,e){let t=l("span",o);for(const a of e.langs){let c=`pre[data-lang="${a}"]`;const s=Array.from(t.querySelectorAll(c));for(const n of s)if(n instanceof HTMLElement){const d=n.parentNode,r=l("p",await f(n.textContent,a,e));d&&(r.dataset.lang=a,n.parentNode.replaceChild(r,n))}let y=`img[alt="kroki-${a}"]`;const h=Array.from(t.querySelectorAll(y));for(const n of h)if(n instanceof HTMLImageElement){const d=n;try{const r=await(await fetch(d.getAttribute("src"))).text(),k=n.parentNode,u=l("p",await f(r,a,e));k&&(u.dataset.lang=a,n.parentNode.replaceChild(u,n))}catch(r){console.error("error",r);continue}}}return t.innerHTML}function l(o,e){const t=document.createElement(o);return e&&(t.innerHTML=e),t}const g={langs:["plantuml","mermaid","svgbob","vega","vegalite","wavedrom","nomnoml","graphviz","erd","ditaa","c4plantuml","packetdiag","nwdiag","actdiag","seqdiag","bytefield","bpmn","blockdiag","rackdiag","pikchr","excalidraw"],serverPath:"//kroki.io/"},w=(o,e)=>{o.afterEach((t,a)=>{(async()=>{var s;const c=await m(t,{...g,...(s=e==null?void 0:e.config)==null?void 0:s.kroki});a(c)})()})};window.$docsify||(window.$docsify={}),window.$docsify.plugins=((p=window.$docsify.plugins)!=null?p:[]).concat(w)});
//# sourceMappingURL=docsify-kroki.umd.js.map
